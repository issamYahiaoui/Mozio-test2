(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{40:function(e,t,n){e.exports=n(75)},45:function(e,t,n){},55:function(e,t,n){},72:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(15),c=n.n(o),l=(n(45),n(10));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=n(16),s=n(31),u=n(25),m=n(28),d=n(13),p=n(24),h=n(32),g="SET_RUNTIME_VARIABLE";function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{startPoint:"",endPoint:"",passengersNb:1,date:"2019-04-18",distance:null,fetchingDistanceStarted:!1,fetchingDistanceFailed:!1,origins:"",destinations:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(h.a)({},e,Object(p.a)({},t.payload.name,t.payload.value));default:return e}}var v=n(33),b=function(e){return Object(i.combineReducers)({router:Object(u.b)(e),root:f})},E=Object(d.a)();var j=n(4),O=n(5),y=n(7),C=n(6),S=n(8),w=(n(55),function(e){function t(){return Object(j.a)(this,t),Object(y.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return r.a.createElement("header",null,"Mozio Test")}}]),t}(a.Component)),P=function(e){var t=e.name,n=e.value;return{type:g,payload:{name:t,value:n}}};var N=n(35),k=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).fetchDistance=function(){console.log("fetching distance ..."),n.props.fetchDistance({origins:n.props.root.startPoint,destinations:n.props.root.endPoint})},n}return Object(S.a)(t,e),Object(O.a)(t,[{key:"componentWillMount",value:function(){this.fetchDistance()}},{key:"render",value:function(){console.log(this.props);var e=this.props.root,t=e.startPoint,n=e.endPoint,a=e.date,o=e.passengersNb,c=e.distance;return r.a.createElement("div",{className:"container"},r.a.createElement("form",null,r.a.createElement("div",null,r.a.createElement("div",null,"Start Point :",r.a.createElement("span",null," ",t," ")),r.a.createElement("div",null,"End Point :",r.a.createElement("span",null,n))),r.a.createElement("div",null,r.a.createElement("div",null,"Date :",r.a.createElement("span",null,a.toString())),r.a.createElement("div",null,"Passengers Number :",r.a.createElement("span",null,o))),r.a.createElement("div",{className:"distanceView"},"Distance is ",c)))}}]),t}(a.Component),D=Object(l.c)(function(e){return{root:e.root}},function(e){return{onChange:function(t){e(P(t))},fetchDistance:function(t){e(function(e){e.origins,e.destinations;var t='https://maps.googleapis.com/maps/api/distancematrix/json?origins="+origins+"&destinations="+destinations+"&mode=driving&key=AIzaSyBYezs6ze6ZeaU7-tG0Cz-I6_1bd2U8eSc\n';return console.log(t),function(e){return e(P({name:"fetchingDistanceStarted",value:!0})),fetch(t).then(function(t){return console.log("fetched distance",t),e(P({name:"distance",value:t.json()})),e(P({name:"fetchingDistanceStarted",value:!1})),t.json()}).catch(function(t){return e(P({name:"fetchingDistanceFailed",value:!0}))})}}(t))}}})(Object(N.GoogleApiWrapper)({apiKey:"AIzaSyBYezs6ze6ZeaU7-tG0Cz-I6_1bd2U8eSc"})(k)),z=n(20),I=n.n(z),A=(n(72),n(38)),B=function(e){function t(e){var n;return Object(j.a)(this,t),(n=Object(y.a)(this,Object(C.a)(t).call(this,e))).handleChange=function(e){console.log("address",e),n.props.onChange(n.props.name,e)},n.handleSelect=function(e){n.props.onSelect(n.props.name,e)},n.state={address:""},n}return Object(S.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(A.a,{params:{key:"AIzaSyBYezs6ze6ZeaU7-tG0Cz-I6_1bd2U8eSc",libraries:"places,geometry"},render:function(t,n){return t?r.a.createElement(I.a,{value:e.props.address,onChange:e.handleChange,onSelect:e.handleSelect},function(e){var t=e.getInputProps,n=e.suggestions,a=e.getSuggestionItemProps,o=e.loading;return r.a.createElement("div",null,r.a.createElement("input",t({placeholder:"Search Places ...",className:"location-search-input"})),r.a.createElement("div",{className:"autocomplete-dropdown-container"},o&&r.a.createElement("div",null,"Loading..."),n.map(function(e){var t=e.active?"suggestion-item--active":"suggestion-item",n=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return r.a.createElement("div",a(e,{className:t,style:n}),r.a.createElement("span",null,e.description))})))}):r.a.createElement("div",null,"Network Error"===n?r.a.createElement("p",null,n):r.a.createElement("p",null,"isLoading..."))}})}}]),t}(a.Component),U=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(y.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){n.props.onChange({name:e.target.name,value:e.target.value})},n.onSubmit=function(e){console.log("on submit"),e.preventDefault(),n.props.history.push("/search")},n.handleChange=function(e,t){n.props.onChange({name:e,value:t})},n.handleSelect=function(e,t){n.props.onChange({name:e,value:t}),console.log("my name ...",e);try{Object(z.geocodeByAddress)(t).then(function(e){return Object(z.getLatLng)(e[0])}).then(function(e){}).catch(function(e){return console.error("Error",e)})}catch(a){alert(a)}},n}return Object(S.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return console.log(this.props.startPoint),r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"column"},r.a.createElement("div",{className:"row"},r.a.createElement("div",null,r.a.createElement("label",null,"Start Point"),r.a.createElement(B,{name:"startPoint",address:this.props.root.startPoint,onChange:this.handleChange,onSelect:this.handleSelect,googleCallbackName:"initOne"})),r.a.createElement("div",null,r.a.createElement("label",null,"End Point"),r.a.createElement(B,{name:"endPoint",address:this.props.root.endPoint,onChange:this.handleChange,onSelect:this.handleSelect,googleCallbackName:"initOne"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",null,r.a.createElement("label",null,"Date"),r.a.createElement("input",{onChange:this.onChange,name:"date",type:"date"})),r.a.createElement("div",null,r.a.createElement("label",null," Passengers Number"),r.a.createElement("input",{onChange:this.onChange,name:"passengersNb",type:"text"}))),r.a.createElement("div",{className:"btn-submit"},r.a.createElement("button",{onClick:this.onSubmit},"Submit"))))}}]),t}(a.Component),x=Object(l.c)(function(e){return{root:e.root}},function(e){return{onChange:function(t){e(P(t))}}})(U),L=n(14),W=function(e){function t(){return Object(j.a)(this,t),Object(y.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(w,null),r.a.createElement(u.a,{history:E},r.a.createElement(r.a.Fragment,null,r.a.createElement(L.c,null,r.a.createElement(L.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(x,e)}}),r.a.createElement(L.a,{exact:!0,path:"/search",render:function(e){return r.a.createElement(D,e)}})))))}}]),t}(a.Component);c.a.render(r.a.createElement(l.a,{store:Object(i.createStore)(b(E),Object(s.composeWithDevTools)(Object(i.applyMiddleware)(Object(m.a)(E),v.a)))},r.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[40,1,2]]]);
//# sourceMappingURL=main.375ed0cc.chunk.js.map